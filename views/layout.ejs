<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="apple-touch-icon-precomposed" href="favicon-152.png">
    <link rel="icon" href="/favicon.ico?" type="image/x-icon">
    <link rel="icon" href="/favicon.png">
    <title>Dragonduel | Node.JS App</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.1.1/normalize.min.css" type="text/css" />
    <link rel="stylesheet" href="/css/styles.css" type="text/css" />
  </head>
  <body>

    <section id="login" class="hide">
      <h2>Login</h2>
      <form method="post" action="/login">
        <div class="form-group">
          <label for="email">Email</label>
          <input class="form-control" type="text" name="email" id="email-login">
        </div>
        <div class="form-group">
          <label for="email">Password</label>
          <input class="form-control" type="password" name="password" id="password-login">
        </div>
        <input class="btn btn-default" type="submit">
      </form>
    </section>

    <section id="join" class="hide">
      <form method="post" action="/signup">
        <div class="q00">
          <h2>Join Us</h2>
          <label for="email">Email</label>
          <input class="form-control" type="text" name="email" id="email" required />
          <span class="checking-email hide">checking...</span>
          <span class="invalid-email-taken hide">unavailable</span>
          <span class="invalid-email hide">Please enter a valid e-mail.</span>
          <br>
          <label for="password">Password</label>
          <input class="form-control" type="password" name="password" id="password" required />
          <!-- if DOM order input -> label -> input is changed, must update password validation in main.js -->
          <label for="confirm-password">Confirm password</label>
          <input class="form-control" type="password" id="password-confirm" required />
          <span class="invalid-password hide">Passwords don't match!</span>
          <span class="invalid-length hide">Must be 8+ characters.</span>
          <br>
          <label for="username">Username</label>
          <input type="text" name="username" id="username" required />
          <span class="checking-username hide">checking...</span>
          <span class="invalid-username-taken hide">unavailable</span>
          <span class="invalid-username hide">Usernames can only contain letters and numbers.</span>

          <span class="next">NEXT</span>
          </div>

        <div class="q0 hide">
          <p class="back">BACK</p>
          <label for="gender">Gender</label>
          <label><input type="radio" name="gender" value="m" required /><img src="/img/join/m.png" alt="Male" /></label>
          <label><input type="radio" name="gender" value="f" /><img src="/img/join/f.png" alt="Female" /></label>
        </div>
        <div class="q1 hide">
          <p class="back">BACK</p>
          <label for="question1">You prefer the...</label>
          <label><input type="radio" name="q1" value="sun" required /><img src="/img/join/sun.png" alt="Sun" /></label>
          <label><input type="radio" name="q1" value="moon" /><img src="/img/join/moon.png" alt="Moon" /></label>
        </div>
        <div class="q2 hide">
          <p class="back">BACK</p>
          <label for="question2">Which mythological creature do you most relate to?</label>
          <label><input type="radio" name="q2" value="fairy" required /><img src="/img/join/fairy.png" alt="Fairy" /></label>
          <label><input type="radio" name="q2" value="mermaid" /><img src="/img/join/mermaid.png" alt="Mermaid" /></label>
          <label><input type="radio" name="q2" value="phoenix" /><img src="/img/join/phoenix.png" alt="Phoenix" /></label>
          <label><input type="radio" name="q2" value="unicorn" /><img src="/img/join/unicorn.png" alt="Unicorn" /></label>
        </div>
        <div class="q3 hide">
          <p class="back">BACK</p>
          <label for="question3">The precious gem that best describes you is the...</label>
          <label><input type="radio" name="q3" value="opal" required /><img src="/img/join/opal.png" alt="Opal" /></label> Opal
          <label><input type="radio" name="q3" value="ruby" /><img src="/img/join/ruby.png" alt="Ruby" /></label> Ruby
          <label><input type="radio" name="q3" value="diamond" /><img src="/img/join/diamond.png" alt="Diamond" /></label> Diamond
          <label><input type="radio" name="q3" value="onyx" /><img src="/img/join/onyx.png" alt="Onyx" /></label> Onyx
          <label><input type="radio" name="q3" value="pearl" /><img src="/img/join/pearl.png" alt="Pearl" /></label> Pearl
        </div>
        <div class="q4 hide">
          <p class="back">BACK</p>
          <label for="question4">You can have one and only one.</label>
          <label><input type="radio" name="q4" value="money" required /><img src="/img/join/money.png" alt="Money" /></label>
          <label><input type="radio" name="q4" value="power" /><img src="/img/join/power.png" alt="Power" /></label>
          <label><input type="radio" name="q4" value="fame" /><img src="/img/join/fame.png" alt="Fame" /></label>
          <label><input type="radio" name="q4" value="achievement" /><img src="/img/join/achievement.png" alt="Achievement" /></label>
          <label><input type="radio" name="q4" value="vanity" /><img src="/img/join/vanity.png" alt="Vanity" /></label>
        </div>
        <div class="q5 hide">
          <p class="back">BACK</p>
          <label for="question5">Would you choose to live forever?</label>
          <label><input type="radio" name="q5" value="yes" class="last" required /><img src="/img/join/yes.png" alt="Yes" /></label>
          <label><input type="radio" name="q5" value="no" class="last" /><img src="/img/join/no.png" alt="No" /></label>
          <input class="btn btn-default" type="submit" value="determine your fate">
        </div>
      </form>
    </section>



    <%- body %>

    <header>
    <% if(global.currentUser){ %>
      <a href="/duel/" id="duel" class="hide">battlefield☠️</a>
      <a href="/users/<%=req.user.local.username%>" id="userShow">@<%= req.user.local.username %></a>
      <a href="/logout" id="logout-btn">Log out</a>
    <% } else { %>
      <a href="#" id="login-btn" class="auth">Login</a>
      <a href="/signup" id="join-btn" class="auth">join</a>
    <% } %>
    </header>



    <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
    <script src="https://code.jquery.com/jquery-2.2.3.min.js" integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo=" crossorigin="anonymous"></script>
    <script src="/scripts/avgrund.js"></script>
    <script src="/scripts/main.js" type="text/javascript" charset="utf-8" async defer></script>
  </body>
</html>
