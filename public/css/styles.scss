
$blue-white: #cfe1ea;
$blue-sky: #78bcd2;
$blue-dark: #13313d;
$blue-grey-dark: #41757a;
$blue-black: #021215;

@mixin castleDragon($url) {
  height: 100%;
  background: url($url);
  background-size: cover;
  background-position: center center;
}

@mixin castles($level, $img) {
  &-#{$level} {
    @include castleDragon('../img/castles/#{$img}#{$level}.png');

    .light {
      @include castleDragon('../img/castles/#{$img}#{$level}-light.png');
    }
    .dark {
      @include castleDragon('../img/castles/#{$img}#{$level}-dark.png');
    }
  }
}

//nts: not using right now
@mixin dragons($location) {
  &.red { @include castleDragon('../img/dragons/#{$location}-red.png'); }
  &.orange { @include castleDragon('../img/dragons/#{$location}-orange.png'); }
  &.yellow { @include castleDragon('../img/dragons/#{$location}-yellow.png') }
  &.green { @include castleDragon('../img/dragons/#{$location}-green.png'); }
  &.blue { @include castleDragon('../img/dragons/#{$location}-blue.png'); }
  &.purple { @include castleDragon('../img/dragons/#{$location}-purple.png'); }
}

@mixin gradient($perc1, $perc2, $perc3) {
  &.light {
    background: $blue-white;
    background: -webkit-linear-gradient($blue-sky, $blue-white $perc1);
    background: -o-linear-gradient($blue-sky, $blue-white $perc1);
    background: -moz-linear-gradient($blue-sky, $blue-white $perc1);
    background: linear-gradient($blue-sky, $blue-white $perc1);
  }
  &.dark {
    background: $blue-black;
    background: -webkit-linear-gradient($blue-white, $blue-grey-dark $perc2, $blue-black $perc3);
    background: -o-linear-gradient($blue-white, $blue-grey-dark $perc2, $blue-black $perc3);
    background: -moz-linear-gradient($blue-white, $blue-grey-dark $perc2, $blue-black $perc3);
    background: linear-gradient($blue-white, $blue-grey-dark $perc2, $blue-black $perc3);
  }
}

html, body {
  min-height: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}

.hide {
  display: none!important;
}

.sky-light {
  height: 100%;
  background: url('../img/castles/sky-light.png');
}
.sky-dark {
  height: 100%;
  background: url('../img/castles/sky-dark.png');
}

.link-red, .link-red a {
   color: red;
   text-decoration: none;
 }
.link-orange, .link-orange a {
   color: orange;
   text-decoration: none;
 }
.link-yellow, .link-yellow a {
   color: yellow;
   text-decoration: none;
 }
.link-green, .link-green a {
   color: green;
   text-decoration: none;
 }
.link-blue, .link-blue a {
   color: blue;
   text-decoration: none;
 }
.link-purple, .link-purple a {
   color: purple;
   text-decoration: none;
 }

header {
  position: fixed;
  top: 0;
  width: 100%;
  text-align: right;
}

.auth{
  display: inline-block;
  letter-spacing: 3px;
  font-size: .9em;
  text-transform: uppercase;
  color: $blue-white;
  background-color: $blue-dark;
  padding: 12px;
  text-decoration: none;
  border-radius: 10px;
  margin: 10px;
  border: 2px solid $blue-white;

  &:hover {
    background-color: $blue-black;
    color: $blue-sky;
  }

  &:nth-of-type(2) {
    margin-left: 0px;
  }
}

a#userShow {
  text-decoration: none;
  margin-right: 10px;
  color: $blue-black;
  position: relative;
  top: 3px;

  &:hover {
    color: $blue-white;
  }
}

#duel {
  @extend .auth;
  padding: 10px 15px;
  position: absolute;
  top: 90vh;
  right: 0;
  margin: 15px;
}

#logout-btn {
  display: inline-block;
  letter-spacing: 1px;
  font-size: .5em;
  text-transform: uppercase;
  color: $blue-white;
  background-color: $blue-dark;
  padding: 5px;
  text-decoration: none;
  border-radius: 5px;
  margin: 10px;
  border: 1px solid $blue-white;

  &:hover {
    background-color: $blue-black;
    color: $blue-sky;
  }

}

#town {
  min-height: 100%;
  height: 100%;

  //first for light gradient stop, next two for dark stops
  //third one what % upward does the dark go
  @include gradient(40%, 20%, 46%);
  //level, img name
  @include castles(1, town);
}

#connected, .conn-user, #new-user {
  display: inline-block;
}

.conn-user {
  margin: 10px;
}

.dragon-town {
  min-height: 100%;
  height: 100%;
  width: 100%;
  position: absolute;
  top: 0;
  left: 0;

  &.red { @include castleDragon('../img/dragons/town-red.png'); }
  &.orange { @include castleDragon('../img/dragons/town-orange.png'); }
  &.yellow { @include castleDragon('../img/dragons/town-yellow.png') }
  &.green { @include castleDragon('../img/dragons/town-green.png'); }
  &.blue { @include castleDragon('../img/dragons/town-blue.png'); }
  &.purple { @include castleDragon('../img/dragons/town-purple.png'); }

  h2 {
    text-transform: uppercase;
    text-align: center;
    position: relative;
    top: 34.5%;
    font-size: 1.3em;

  }
  h3 {
    text-transform: uppercase;
    text-align: center;
    position: relative;
    top: 40.5%;
    font-size: 1.5em;
  }
}

#instructions {
  min-height: 100%;
  height: 100%;

  .scroll {
    height: 100%;
  }
}

#dwelling {
  min-height: 100%;
  height: 100%;

  //first for light gradient stop, next two for dark stops
  @include gradient(40%, 30%, 70%);
  @include castles(1, dwelling);
  @include castles(2, dwelling);
}

.user-info {
  position: absolute;
  top: 0;
  left: 0;
  min-height: 100%;
  height: 100%;
  min-width: 100%;
  width: 100%;
}

.username {
  position: absolute;

  &.level1 {
    top: 85%;
    left: 46%;
  }

  &.level2 {
    top: 34%;
    left: 46%;
  }
}


.avatar {
  position: absolute;

  &-part {
    position: absolute;
    height: auto;
  }

  &.level1 {
    left: calc(50% - 50px);
    top: 3%;

    .avatar-part {
      width: 100px;
    }
  }

  &.level2 {
    left: calc(50% - 30px);
    top: 26.5%;

    .avatar-part {
      width: 60px
    }
  }
}

.dragon-info {
  position: absolute;
  top: 0;
  left: 0;
  min-height: 100%;
  height: 100%;
  min-width: 100%;
  width: 100%;
}

.dragon {
  position: absolute;

  &-part {
    position: absolute;
    height: auto;
  }

  &.level1 {
    top: 23%;

    .dragon-part {
      width: 275px;
    }

    &.dark {
      left: calc(50% - 15px);

      h4 {
        position: relative;
        top: 225px;
        left: 70px;
      }
    }

    &.light {
      left: calc(50% - 260px);

      h4 {
        position: relative;
        top: 222px;
        left: 130px;
      }
    }
  }

  &.level2 {
    top: 50%;

    h4 {
      position: relative;
      left: 80%;
      top: 160px;
    }

    .dragon-part {
      width: 200px;
    }
    &.dark {
      left: calc(50% - 20px);
    }

    &.light {
      left: calc(50% - 200px);
    }
  }
}

.cover.light {
  position: absolute;
  top: 0;
  min-height: 100%;
  min-width: 100%;
  @include castleDragon('../img/castles/cover-light.png');
}
.cover.dark {
  position: absolute;
  top: 0;
  min-height: 100%;
  min-width: 100%;
  @include castleDragon('../img/castles/cover-dark.png');
}

#battlefront  {
  padding: 50px;
  font-size: 5em;
}

.conn-user {

  input[type=submit] {
    width: 220px;
    height: 200px;
    border: 0;
    display: block;

    &.red { background: url('../img/dragons/red.png'); background-size: cover; }
    &.orange { background: url('../img/dragons/orange.png'); background-size: cover; }
    &.yellow { background: url('../img/dragons/yellow.png'); background-size: cover; }
    &.green { background: url('../img/dragons/green.png'); background-size: cover; }
    &.blue { background: url('../img/dragons/blue.png'); background-size: cover; }
    &.purple { background: url('../img/dragons/purple.png'); background-size: cover; }

    &:hover {
      cursor: pointer;
    }
  }

}

#battlefield {
  text-align: center;
  margin-top: 75px;
}


//*** AVGRUND MODAL ***//
.avgrund-popin {
	position: fixed;
	background: #fff;
	padding: 10px;
	overflow: hidden;
	visibility: hidden;
	opacity: 0;
	filter: alpha(opacity=0);
	top: 50%;
	left: 50%;
  border-radius: 3px;
	box-shadow: 0 1px 10px 0 rgba(0, 0, 0, .5);
}

.avgrund-overlay {
	background: #000;
	position: fixed;
	top: 0;
	left: 0;
	visibility: hidden;
	opacity: 0;
	filter: alpha(opacity=0);
}

.avgrund-active .avgrund-overlay {
	visibility: visible;
	opacity: .6;
	filter: alpha(opacity=60);
	height: 100%;
  width: 100%;
}

body.avgrund-ready, .avgrund-ready .avgrund-popin, .avgrund-ready .avgrund-overlay {
	-webkit-transform-origin: 50% 50%;
	-moz-transform-origin: 50% 50%;
	-ms-transform-origin: 50% 50%;
	-o-transform-origin: 50% 50%;
	transform-origin: 50% 50%;

	-webkit-transition: 0.3s all ease-out;
	-moz-transition: 0.3s all ease-out;
	-ms-transition: 0.3s all ease-out;
	-o-transition: 0.3s all ease-out;
	transition: 0.3s all ease-out;
}

.avgrund-active .avgrund-popin {
	visibility: visible;
	opacity: 1;
	filter: alpha(opacity=100);

  &.stack {
  	-webkit-transform: scale(1.1);
  	-moz-transform: scale(1.1);
  	-ms-transform: scale(1.1);
  	-o-transform: scale(1.1);
  	transform: scale(1.1);
  }
}

.avgrund-popin.stack {
	-webkit-transform: scale(1.5);
	-moz-transform: scale(1.5);
	-ms-transform: scale(1.5);
	-o-transform: scale(1.5);
	transform: scale(1.5);
}

.avgrund-close {
	display: block;
	color: #555;
	font-size: 13px;
	text-decoration: none;
	text-transform: uppercase;
	position: absolute;
	top: 6px;
	right: 10px;
}
//*** END AVGRUND MODAL ***//
